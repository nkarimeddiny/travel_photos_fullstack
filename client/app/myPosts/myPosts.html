
<div ng-include="'components/navbar/navbar.html'"></div>
<div ng-include="'components/sidebar/sidebar.html'"></div>

<div ng-controller = "MypostsCtrl as mpCtrl">

  <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9" id="myPosts"> <!-- this is displayed when looking at your own posts,
  and also has the entry form for making new posts -->
    
    <div id="retrieveInstagramPhotos" class="photoContainer">
      <button ng-show="mpCtrl.isInstagramUser && mpCtrl.thumbnailImagesIsEmpty" ng-click="mpCtrl.accessInstagram()">View 10 most recent Instagram photos</button>
    </div>

    <div class="photoContainer">
      <h3 ng-show="!mpCtrl.thumbnailImagesIsEmpty">Posted on Instagram:</h3>
      <!-- for testing -->
            <div ng-hide="hideThumbnail" class = "photo thumbnail col-xs-6 col-sm-3 col-md-3 col-lg-3">
           <h5>Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello</h5>
           <div class="onePhotoBox">
             <a ng-href="{{image.instagramLink}}"> <img src=""/> </a>
           </div>
           <button ng-click="mpCtrl.addPost(image.lowresLink, image.caption, image.instagramLink, image.id); hideThumbnail = true">Post to Travel Photos</button>
      </div>
    <!-- for testing -->
      <div ng-hide="hideThumbnail" class = "photo thumbnail col-xs-6 col-sm-3 col-md-3 col-lg-3" ng-repeat="image in mpCtrl.thumbnailImages">
           <h5>{{image.caption}}</h5>
           <div class="onePhotoBox">
             <a ng-href="{{image.instagramLink}}"> <img ng-src="{{image.thumbnailLink}}"/> </a>
           </div>
           <button ng-click="mpCtrl.addPost(image.lowresLink, image.caption, image.instagramLink, image.id); hideThumbnail = true">Post to Travel Photos</button>
      </div>
    </div>
    
    <div class="photoContainer postedPhotos">
      <h3>Posted on Travel Photos from Instagram:</h3>
      <div class = "photo low_res" ng-repeat="post in mpCtrl.userPosts" ng-init="postId = post._id;">
        <div class="photoHeader">
          <h5 class="caption">{{post.caption}}</h5>
          <span class="date">Posted: {{post.date | date}}</span>
          <button class="btn btn-xs" ng-click="mpCtrl.removePost(postId)">X</button>
        </div>
        <div class="imageDiv">
           <a ng-href="{{post.instagramLink}}"><img ng-src="{{post.imageLink}}"/> </a>
        </div>
      </div>
    </div>

  </div> <!--  end myPosts -->

  </div> <!--  end mpCtrl -->
